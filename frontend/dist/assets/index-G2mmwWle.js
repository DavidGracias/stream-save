import{r as e,j as t,A as r,C as n,T as o,a,b as s,B as i,R as l,c,D as d,H as u,E as h,S as p,d as m,e as x,f,g,h as b,i as y,I as v,k as j,V as w,l as C,m as S,n as k,o as E,p as R,q as F,s as $,t as L,u as D,v as T,L as B,w as I,x as M,y as W,z as P,F as A,M as U,G as O,J as N,K as z,N as _,O as H,P as Y,Q as G,U as J,W as V,X as K,Y as q,Z as X,_ as Q,$ as Z,a0 as ee,a1 as te,a2 as re,a3 as ne,a4 as oe,a5 as ae,a6 as se,a7 as ie,a8 as le,a9 as ce,aa as de,ab as ue}from"./ui-B7WJkoJv.js";import{a as he,g as pe}from"./vendor-QYCSsVv3.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var me,xe={};const fe=pe(function(){if(me)return xe;me=1;var e=he();return xe.createRoot=e.createRoot,xe.hydrateRoot=e.hydrateRoot,xe}());
/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ge="popstate";function be(e={}){return function(e,t,r,n={}){let{window:o=document.defaultView,v5Compat:a=!1}=n,s=o.history,i="POP",l=null,c=d();null==c&&(c=0,s.replaceState({...s.state,idx:c},""));function d(){return(s.state||{idx:null}).idx}function u(){i="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:i,location:x.location,delta:t})}function h(e,t){i="PUSH";let r=we(x.location,e,t);c=d()+1;let n=je(r,c),u=x.createHref(r);try{s.pushState(n,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;o.location.assign(u)}a&&l&&l({action:i,location:x.location,delta:1})}function p(e,t){i="REPLACE";let r=we(x.location,e,t);c=d();let n=je(r,c),o=x.createHref(r);s.replaceState(n,"",o),a&&l&&l({action:i,location:x.location,delta:0})}function m(e){return function(e,t=!1){let r="http://localhost";"undefined"!=typeof window&&(r="null"!==window.location.origin?window.location.origin:window.location.href);ye(r,"No window.location.(origin|href) available to create URL");let n="string"==typeof e?e:Ce(e);n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n);return new URL(n,r)}(e)}let x={get action(){return i},get location(){return e(o,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(ge,u),l=e,()=>{o.removeEventListener(ge,u),l=null}},createHref:e=>t(o,e),createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:p,go:e=>s.go(e)};return x}(function(e,t){let{pathname:r,search:n,hash:o}=e.location;return we("",{pathname:r,search:n,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:Ce(t)},0,e)}function ye(e,t){if(!1===e||null==e)throw new Error(t)}function ve(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function je(e,t){return{usr:e.state,key:e.key,idx:t}}function we(e,t,r=null,n){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?Se(t):t,state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)}}function Ce({pathname:e="/",search:t="",hash:r=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function Se(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function ke(e,t,r="/"){return function(e,t,r,n){let o="string"==typeof t?Se(t):t,a=Ue(o.pathname||"/",r);if(null==a)return null;let s=Ee(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let l=0;null==i&&l<s.length;++l){let e=Ae(a);i=We(s[l],e,n)}return i}(e,t,r,!1)}function Ee(e,t=[],r=[],n=""){let o=(e,o,a)=>{let s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};s.relativePath.startsWith("/")&&(ye(s.relativePath.startsWith(n),`Absolute route path "${s.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(n.length));let i=_e([n,s.relativePath]),l=r.concat(s);e.children&&e.children.length>0&&(ye(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${i}".`),Ee(e.children,t,l,i)),(null!=e.path||e.index)&&t.push({path:i,score:Me(i,e.index),routesMeta:l})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let r of Re(e.path))o(e,t,r);else o(e,t)}),t}function Re(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(0===n.length)return o?[a,""]:[a];let s=Re(n.join("/")),i=[];return i.push(...s.map(e=>""===e?a:[a,e].join("/"))),o&&i.push(...s),i.map(t=>e.startsWith("/")&&""===t?"/":t)}var Fe=/^:[\w-]+$/,$e=3,Le=2,De=1,Te=10,Be=-2,Ie=e=>"*"===e;function Me(e,t){let r=e.split("/"),n=r.length;return r.some(Ie)&&(n+=Be),t&&(n+=Le),r.filter(e=>!Ie(e)).reduce((e,t)=>e+(Fe.test(t)?$e:""===t?De:Te),n)}function We(e,t,r=!1){let{routesMeta:n}=e,o={},a="/",s=[];for(let i=0;i<n.length;++i){let e=n[i],l=i===n.length-1,c="/"===a?t:t.slice(a.length)||"/",d=Pe({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=Pe({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(o,d.params),s.push({params:o,pathname:_e([a,d.pathname]),pathnameBase:He(_e([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=_e([a,d.pathnameBase]))}return s}function Pe(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t=!1,r=!0){ve("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let a=new RegExp(o,t?void 0:"i");return[a,n]}(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let a=o[0],s=a.replace(/(.)\/+$/,"$1"),i=o.slice(1);return{params:n.reduce((e,{paramName:t,isOptional:r},n)=>{if("*"===t){let e=i[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[n];return e[t]=r&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:s,pattern:e}}function Ae(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return ve(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ue(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function Oe(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ne(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function ze(e,t,r,n=!1){let o;"string"==typeof e?o=Se(e):(o={...e},ye(!o.pathname||!o.pathname.includes("?"),Oe("?","pathname","search",o)),ye(!o.pathname||!o.pathname.includes("#"),Oe("#","pathname","hash",o)),ye(!o.search||!o.search.includes("#"),Oe("#","search","hash",o)));let a,s=""===e||""===o.pathname,i=s?"/":o.pathname;if(null==i)a=r;else{let e=t.length-1;if(!n&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t="/"){let{pathname:r,search:n="",hash:o=""}="string"==typeof e?Se(e):e,a=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:a,search:Ye(n),hash:Ge(o)}}(o,a),c=i&&"/"!==i&&i.endsWith("/"),d=(s||"."===i)&&r.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var _e=e=>e.join("/").replace(/\/\/+/g,"/"),He=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ye=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Ge=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var Je=["POST","PUT","PATCH","DELETE"];new Set(Je);var Ve=["GET",...Je];new Set(Ve);var Ke=e.createContext(null);Ke.displayName="DataRouter";var qe=e.createContext(null);qe.displayName="DataRouterState",e.createContext(!1);var Xe=e.createContext({isTransitioning:!1});Xe.displayName="ViewTransition",e.createContext(new Map).displayName="Fetchers",e.createContext(null).displayName="Await";var Qe=e.createContext(null);Qe.displayName="Navigation";var Ze=e.createContext(null);Ze.displayName="Location";var et=e.createContext({outlet:null,matches:[],isDataRoute:!1});et.displayName="Route";var tt=e.createContext(null);function rt(){return null!=e.useContext(Ze)}function nt(){return ye(rt(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(Ze).location}tt.displayName="RouteError";var ot="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function at(t){e.useContext(Qe).static||e.useLayoutEffect(t)}function st(){let{isDataRoute:t}=e.useContext(et);return t?function(){let{router:t}=function(t){let r=e.useContext(Ke);return ye(r,pt(t)),r}("useNavigate"),r=mt("useNavigate"),n=e.useRef(!1);return at(()=>{n.current=!0}),e.useCallback(async(e,o={})=>{ve(n.current,ot),n.current&&("number"==typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:r,...o}))},[t,r])}():function(){ye(rt(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(Ke),{basename:r,navigator:n}=e.useContext(Qe),{matches:o}=e.useContext(et),{pathname:a}=nt(),s=JSON.stringify(Ne(o)),i=e.useRef(!1);return at(()=>{i.current=!0}),e.useCallback((e,o={})=>{if(ve(i.current,ot),!i.current)return;if("number"==typeof e)return void n.go(e);let l=ze(e,JSON.parse(s),a,"path"===o.relative);null==t&&"/"!==r&&(l.pathname="/"===l.pathname?r:_e([r,l.pathname])),(o.replace?n.replace:n.push)(l,o.state,o)},[r,n,s,a,t])}()}function it(t,{relative:r}={}){let{matches:n}=e.useContext(et),{pathname:o}=nt(),a=JSON.stringify(Ne(n));return e.useMemo(()=>ze(t,JSON.parse(a),o,"path"===r),[t,a,o,r])}function lt(t,r,n,o){ye(rt(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=e.useContext(Qe),{matches:s}=e.useContext(et),i=s[s.length-1],l=i?i.params:{},c=i?i.pathname:"/",d=i?i.pathnameBase:"/",u=i&&i.route;{let e=u&&u.path||"";ft(c,!u||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let h,p=nt();if(r){let e="string"==typeof r?Se(r):r;ye("/"===d||e.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${e.pathname}" was given in the \`location\` prop.`),h=e}else h=p;let m=h.pathname||"/",x=m;if("/"!==d){let e=d.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let f=ke(t,{pathname:x});ve(u||null!=f,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),ve(null==f||void 0!==f[f.length-1].route.element||void 0!==f[f.length-1].route.Component||void 0!==f[f.length-1].route.lazy,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=function(t,r=[],n=null){if(null==t){if(!n)return null;if(n.errors)t=n.matches;else{if(0!==r.length||n.initialized||!(n.matches.length>0))return null;t=n.matches}}let o=t,a=n?.errors;if(null!=a){let e=o.findIndex(e=>e.route.id&&void 0!==a?.[e.route.id]);ye(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,e+1))}let s=!1,i=-1;if(n)for(let e=0;e<o.length;e++){let t=o[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(i=e),t.route.id){let{loaderData:e,errors:r}=n,a=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||void 0===r[t.route.id]);if(t.route.lazy||a){s=!0,o=i>=0?o.slice(0,i+1):[o[0]];break}}}return o.reduceRight((t,l,c)=>{let d,u=!1,h=null,p=null;n&&(d=a&&l.route.id?a[l.route.id]:void 0,h=l.route.errorElement||dt,s&&(i<0&&0===c?(ft("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,p=null):i===c&&(u=!0,p=l.route.hydrateFallbackElement||null)));let m=r.concat(o.slice(0,c+1)),x=()=>{let r;return r=d?h:u?p:l.route.Component?e.createElement(l.route.Component,null):l.route.element?l.route.element:t,e.createElement(ht,{match:l,routeContext:{outlet:t,matches:m,isDataRoute:null!=n},children:r})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?e.createElement(ut,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:x(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):x()},null)}(f&&f.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:_e([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:_e([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,n,o);return r&&g?e.createElement(Ze.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},g):g}function ct(){let t=function(){let t=e.useContext(tt),r=function(t){let r=e.useContext(qe);return ye(r,pt(t)),r}("useRouteError"),n=mt("useRouteError");if(void 0!==t)return t;return r.errors?.[n]}(),r=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:o},s={padding:"2px 4px",backgroundColor:o},i=null;return console.error("Error handled by React Router default ErrorBoundary:",t),i=e.createElement(e.Fragment,null,e.createElement("p",null,"💿 Hey developer 👋"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:s},"ErrorBoundary")," or"," ",e.createElement("code",{style:s},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},r),n?e.createElement("pre",{style:a},n):null,i)}e.createContext(null);var dt=e.createElement(ct,null),ut=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(et.Provider,{value:this.props.routeContext},e.createElement(tt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ht({routeContext:t,match:r,children:n}){let o=e.useContext(Ke);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(et.Provider,{value:t},n)}function pt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mt(t){let r=function(t){let r=e.useContext(et);return ye(r,pt(t)),r}(t),n=r.matches[r.matches.length-1];return ye(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}var xt={};function ft(e,t,r){t||xt[e]||(xt[e]=!0,ve(!1,r))}function gt({to:t,replace:r,state:n,relative:o}){ye(rt(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=e.useContext(Qe);ve(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=e.useContext(et),{pathname:i}=nt(),l=st(),c=ze(t,Ne(s),i,"path"===o),d=JSON.stringify(c);return e.useEffect(()=>{l(JSON.parse(d),{replace:r,state:n,relative:o})},[l,d,o,r,n]),null}function bt(e){ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yt({basename:t="/",children:r=null,location:n,navigationType:o="POP",navigator:a,static:s=!1}){ye(!rt(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=t.replace(/^\/*/,"/"),l=e.useMemo(()=>({basename:i,navigator:a,static:s,future:{}}),[i,a,s]);"string"==typeof n&&(n=Se(n));let{pathname:c="/",search:d="",hash:u="",state:h=null,key:p="default"}=n,m=e.useMemo(()=>{let e=Ue(c,i);return null==e?null:{location:{pathname:e,search:d,hash:u,state:h,key:p},navigationType:o}},[i,c,d,u,h,p,o]);return ve(null!=m,`<Router basename="${i}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),null==m?null:e.createElement(Qe.Provider,{value:l},e.createElement(Ze.Provider,{children:r,value:m}))}function vt({children:e,location:t}){return lt(jt(e),t)}function jt(t,r=[]){let n=[];return e.Children.forEach(t,(t,o)=>{if(!e.isValidElement(t))return;let a=[...r,o];if(t.type===e.Fragment)return void n.push.apply(n,jt(t.props.children,a));ye(t.type===bt,`[${"string"==typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ye(!t.props.index||!t.props.children,"An index route cannot have child routes.");let s={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=jt(t.props.children,a)),n.push(s)}),n}e.memo(function({routes:e,future:t,state:r}){return lt(e,void 0,r,t)});var wt="get",Ct="application/x-www-form-urlencoded";function St(e){return null!=e&&"string"==typeof e.tagName}var kt=null;var Et=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rt(e){return null==e||Et.has(e)?e:(ve(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ct}"`),null)}function Ft(e,t){let r,n,o,a,s;if(St(i=e)&&"form"===i.tagName.toLowerCase()){let s=e.getAttribute("action");n=s?Ue(s,t):null,r=e.getAttribute("method")||wt,o=Rt(e.getAttribute("enctype"))||Ct,a=new FormData(e)}else if(function(e){return St(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return St(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let i=e.getAttribute("formaction")||s.getAttribute("action");if(n=i?Ue(i,t):null,r=e.getAttribute("formmethod")||s.getAttribute("method")||wt,o=Rt(e.getAttribute("formenctype"))||Rt(s.getAttribute("enctype"))||Ct,a=new FormData(s,e),!function(){if(null===kt)try{new FormData(document.createElement("form"),0),kt=!1}catch(e){kt=!0}return kt}()){let{name:t,type:r,value:n}=e;if("image"===r){let e=t?`${t}.`:"";a.append(`${e}x`,"0"),a.append(`${e}y`,"0")}else t&&a.append(t,n)}}else{if(St(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=wt,n=null,o=Ct,s=e}var i;return a&&"text/plain"===o&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:o,formData:a,body:s}}function $t(e,t){if(!1===e||null==e)throw new Error(t)}function Lt(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}async function Dt(e,t,r){return function(e,t){let r=new Set;return new Set(t),e.reduce((e,t)=>{let n=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}(t));return r.has(n)||(r.add(n),e.push({key:n,link:t})),e},[])}((await Promise.all(e.map(async e=>{let n=t.routes[e.route.id];if(n){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(n,r);return e.links?e.links():[]}return[]}))).flat(1).filter(Lt).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}function Tt(e,t,r,n,o,a){let s=(e,t)=>!r[t]||e.route.id!==r[t].route.id,i=(e,t)=>r[t].pathname!==e.pathname||r[t].route.path?.endsWith("*")&&r[t].params["*"]!==e.params["*"];return"assets"===a?t.filter((e,t)=>s(e,t)||i(e,t)):"data"===a?t.filter((t,a)=>{let l=n.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,a)||i(t,a))return!0;if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof n)return n}return!0}):[]}function Bt(e,t,{includeHydrateFallback:r}={}){return n=e.map(e=>{let n=t.routes[e.route.id];if(!n)return[];let o=[n.module];return n.clientActionModule&&(o=o.concat(n.clientActionModule)),n.clientLoaderModule&&(o=o.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(o=o.concat(n.hydrateFallbackModule)),n.imports&&(o=o.concat(n.imports)),o}).flat(1),[...new Set(n)];var n}function It(){let t=e.useContext(Ke);return $t(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Mt=e.createContext(void 0);function Wt(){let t=e.useContext(Mt);return $t(t,"You must render this element inside a <HydratedRouter> element"),t}function Pt(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function At({page:t,...r}){let{router:n}=It(),o=e.useMemo(()=>ke(n.routes,t,n.basename),[n.routes,t,n.basename]);return o?e.createElement(Ut,{page:t,matches:o,...r}):null}function Ut({page:t,matches:r,...n}){let o=nt(),{manifest:a,routeModules:s}=Wt(),{basename:i}=It(),{loaderData:l,matches:c}=function(){let t=e.useContext(qe);return $t(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}(),d=e.useMemo(()=>Tt(t,r,c,a,o,"data"),[t,r,c,a,o]),u=e.useMemo(()=>Tt(t,r,c,a,o,"assets"),[t,r,c,a,o]),h=e.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,n=!1;if(r.forEach(t=>{let r=a.routes[t.route.id];r&&r.hasLoader&&(!d.some(e=>e.route.id===t.route.id)&&t.route.id in l&&s[t.route.id]?.shouldRevalidate||r.hasClientLoader?n=!0:e.add(t.route.id))}),0===e.size)return[];let c=function(e,t,r){let n="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname=`_root.${r}`:t&&"/"===Ue(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}(t,i,"data");return n&&e.size>0&&c.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[c.pathname+c.search]},[i,l,o,a,d,r,t,s]),p=e.useMemo(()=>Bt(u,a),[u,a]),m=function(t){let{manifest:r,routeModules:n}=Wt(),[o,a]=e.useState([]);return e.useEffect(()=>{let e=!1;return Dt(t,r,n).then(t=>{e||a(t)}),()=>{e=!0}},[t,r,n]),o}(u);return e.createElement(e.Fragment,null,h.map(t=>e.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...n})),p.map(t=>e.createElement("link",{key:t,rel:"modulepreload",href:t,...n})),m.map(({key:t,link:r})=>e.createElement("link",{key:t,nonce:n.nonce,...r})))}function Ot(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}Mt.displayName="FrameworkContext";var Nt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{Nt&&(window.__reactRouterVersion="7.8.0")}catch(jr){}function zt({basename:t,children:r,window:n}){let o=e.useRef();null==o.current&&(o.current=be({window:n,v5Compat:!0}));let a=o.current,[s,i]=e.useState({action:a.action,location:a.location}),l=e.useCallback(t=>{e.startTransition(()=>i(t))},[i]);return e.useLayoutEffect(()=>a.listen(l),[a,l]),e.createElement(yt,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:a})}var _t=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ht=e.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:o,reloadDocument:a,replace:s,state:i,target:l,to:c,preventScrollReset:d,viewTransition:u,...h},p){let m,{basename:x}=e.useContext(Qe),f="string"==typeof c&&_t.test(c),g=!1;if("string"==typeof c&&f&&(m=c,Nt))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),r=Ue(t.pathname,x);t.origin===e.origin&&null!=r?c=r+t.search+t.hash:g=!0}catch(jr){ve(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=function(t,{relative:r}={}){ye(rt(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=e.useContext(Qe),{hash:a,pathname:s,search:i}=it(t,{relative:r}),l=s;return"/"!==n&&(l="/"===s?n:_e([n,s])),o.createHref({pathname:l,search:i,hash:a})}(c,{relative:o}),[y,v,j]=function(t,r){let n=e.useContext(Mt),[o,a]=e.useState(!1),[s,i]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=r,p=e.useRef(null);e.useEffect(()=>{if("render"===t&&i(!0),"viewport"===t){let e=new IntersectionObserver(e=>{e.forEach(e=>{i(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[t]),e.useEffect(()=>{if(o){let e=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(e)}}},[o]);let m=()=>{a(!0)},x=()=>{a(!1),i(!1)};return n?"intent"!==t?[s,p,{}]:[s,p,{onFocus:Pt(l,m),onBlur:Pt(c,x),onMouseEnter:Pt(d,m),onMouseLeave:Pt(u,x),onTouchStart:Pt(h,m)}]:[!1,p,{}]}(n,h),w=function(t,{target:r,replace:n,state:o,preventScrollReset:a,relative:s,viewTransition:i}={}){let l=st(),c=nt(),d=it(t,{relative:s});return e.useCallback(e=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(e,r)){e.preventDefault();let r=void 0!==n?n:Ce(c)===Ce(d);l(t,{replace:r,state:o,preventScrollReset:a,relative:s,viewTransition:i})}},[c,l,d,n,o,r,t,a,s,i])}(c,{replace:s,state:i,target:l,preventScrollReset:d,relative:o,viewTransition:u});let C=e.createElement("a",{...h,...j,href:m||b,onClick:g||a?t:function(e){t&&t(e),e.defaultPrevented||w(e)},ref:Ot(p,v),target:l,"data-discover":f||"render"!==r?void 0:"true"});return y&&!f?e.createElement(e.Fragment,null,C,e.createElement(At,{page:b})):C});function Yt(t){let r=e.useContext(Ke);return ye(r,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(t)),r}Ht.displayName="Link",e.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:o=!1,style:a,to:s,viewTransition:i,children:l,...c},d){let u=it(s,{relative:c.relative}),h=nt(),p=e.useContext(qe),{navigator:m,basename:x}=e.useContext(Qe),f=null!=p&&function(t,{relative:r}={}){let n=e.useContext(Xe);ye(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Yt("useViewTransitionState"),a=it(t,{relative:r});if(!n.isTransitioning)return!1;let s=Ue(n.currentLocation.pathname,o)||n.currentLocation.pathname,i=Ue(n.nextLocation.pathname,o)||n.nextLocation.pathname;return null!=Pe(a.pathname,i)||null!=Pe(a.pathname,s)}(u)&&!0===i,g=m.encodeLocation?m.encodeLocation(u).pathname:u.pathname,b=h.pathname,y=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(b=b.toLowerCase(),y=y?y.toLowerCase():null,g=g.toLowerCase()),y&&x&&(y=Ue(y,x)||y);const v="/"!==g&&g.endsWith("/")?g.length-1:g.length;let j,w=b===g||!o&&b.startsWith(g)&&"/"===b.charAt(v),C=null!=y&&(y===g||!o&&y.startsWith(g)&&"/"===y.charAt(g.length)),S={isActive:w,isPending:C,isTransitioning:f},k=w?t:void 0;j="function"==typeof n?n(S):[n,w?"active":null,C?"pending":null,f?"transitioning":null].filter(Boolean).join(" ");let E="function"==typeof a?a(S):a;return e.createElement(Ht,{...c,"aria-current":k,className:j,ref:d,style:E,to:s,viewTransition:i},"function"==typeof l?l(S):l)}).displayName="NavLink",e.forwardRef(({discover:t="render",fetcherKey:r,navigate:n,reloadDocument:o,replace:a,state:s,method:i=wt,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:h,...p},m)=>{let x=function(){let{router:t}=Yt("useSubmit"),{basename:r}=e.useContext(Qe),n=mt("useRouteId");return e.useCallback(async(e,o={})=>{let{action:a,method:s,encType:i,formData:l,body:c}=Ft(e,r);if(!1===o.navigate){let e=o.fetcherKey||Jt();await t.fetch(e,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||s,formEncType:o.encType||i,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||s,formEncType:o.encType||i,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,r,n])}(),f=function(t,{relative:r}={}){let{basename:n}=e.useContext(Qe),o=e.useContext(et);ye(o,"useFormAction must be used inside a RouteContext");let[a]=o.matches.slice(-1),s={...it(t||".",{relative:r})},i=nt();if(null==t){s.search=i.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();s.search=r?`?${r}`:""}}t&&"."!==t||!a.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:_e([n,s.pathname]));return Ce(s)}(l,{relative:d}),g="get"===i.toLowerCase()?"get":"post",b="string"==typeof l&&_t.test(l);return e.createElement("form",{ref:m,method:g,action:f,onSubmit:o?c:e=>{if(c&&c(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,o=t?.getAttribute("formmethod")||i;x(t||e.currentTarget,{fetcherKey:r,method:o,navigate:n,replace:a,state:s,relative:d,preventScrollReset:u,viewTransition:h})},...p,"data-discover":b||"render"!==t?void 0:"true"})}).displayName="Form";var Gt=0,Jt=()=>`__${String(++Gt)}__`;const Vt=()=>{const e=nt(),m=t=>e.pathname===t,x=[{path:"/",label:"Home",icon:t.jsx(u,{})},{path:"/manage",label:"Manage",icon:t.jsx(h,{})},{path:"/configure",label:"Configure",icon:t.jsx(p,{}),customColor:"#666666"}];return t.jsx(r,{position:"static",elevation:0,children:t.jsx(n,{maxWidth:"xl",children:t.jsxs(o,{sx:{minHeight:70},children:[t.jsxs(a,{variant:"h5",component:Ht,to:"/",sx:{flexGrow:1,textDecoration:"none",color:"primary.main",fontWeight:"bold",display:"flex",alignItems:"center",gap:1,"&:hover":{color:"primary.light"}},children:[t.jsx(s,{label:"SS",color:"primary",size:"small",sx:{fontWeight:"bold",fontSize:"0.8rem",backgroundColor:"#6c5ce7",color:"#ffffff"}}),"Stream Save"]}),t.jsx(i,{sx:{display:"flex",gap:1,alignItems:"center"},children:x.map((e,r)=>t.jsxs(l.Fragment,{children:[t.jsx(c,{component:Ht,to:e.path,startIcon:e.icon,variant:m(e.path)?"contained":"text",color:m(e.path)?"primary":"inherit",sx:{borderRadius:2,px:3,py:1,fontWeight:600,minWidth:120,justifyContent:"center",..."/manage"===e.path&&{border:"2px solid",borderColor:"secondary.main","&:hover":{borderColor:"secondary.main",backgroundColor:"rgba(108, 92, 231, 0.1)"}},..."/configure"===e.path&&{border:"2px solid",borderColor:"#00BFAE","&:hover":{borderColor:"#00BFAE",backgroundColor:"rgba(0, 191, 174, 0.1)"}},...e.customColor&&{color:m(e.path)?"white":e.customColor,backgroundColor:m(e.path)?e.customColor:"transparent","&:hover":{backgroundColor:m(e.path)?e.customColor:`${e.customColor}20`}},...!e.customColor&&{"&:hover":{backgroundColor:m(e.path)?"#5f3dc4":"rgba(108, 92, 231, 0.1)"}}},children:e.label}),r<x.length-1&&t.jsx(d,{orientation:"vertical",flexItem:!0,sx:{height:32,borderColor:"rgba(255, 255, 255, 0.12)",mx:.5}})]},e.path))})]})})})},Kt=()=>t.jsxs(i,{textAlign:"center",mb:6,children:[t.jsx(a,{variant:"h2",component:"h1",color:"primary",gutterBottom:!0,sx:{fontWeight:"bold",background:"linear-gradient(45deg, #6c5ce7 30%, #a29bfe 90%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",mb:2},children:"Stream Save"}),t.jsx(a,{variant:"h5",color:"text.secondary",paragraph:!0,sx:{maxWidth:600,mx:"auto"},children:"Save and manage your custom stream links for movies and series in Stremio"})]}),qt=()=>t.jsxs(i,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:3,mb:6,justifyContent:"center"},children:[t.jsx(i,{sx:{flex:{xs:"1",md:"0 1 300px"}},children:t.jsx(c,{component:Ht,to:"/manage",variant:"contained",color:"primary",size:"large",fullWidth:!0,startIcon:t.jsx(h,{}),sx:{py:3,fontSize:"1.1rem",borderRadius:3,border:"3px solid",borderColor:"secondary.main",boxShadow:"0 8px 32px rgba(108, 92, 231, 0.3)","&:hover":{boxShadow:"0 12px 40px rgba(108, 92, 231, 0.4)",transform:"translateY(-2px)",borderColor:"secondary.light"},transition:"all 0.3s ease"},children:"Manage Content"})}),t.jsx(i,{sx:{flex:{xs:"1",md:"0 1 300px"}},children:t.jsx(c,{component:Ht,to:"/configure",variant:"outlined",color:"primary",size:"large",fullWidth:!0,startIcon:t.jsx(p,{}),sx:{py:3,fontSize:"1.1rem",borderRadius:3,borderWidth:3,borderColor:"#00BFAE","&:hover":{borderWidth:3,borderColor:"#00BFAE",transform:"translateY(-2px)",boxShadow:"0 8px 32px rgba(0, 191, 174, 0.2)"},transition:"all 0.3s ease"},children:"First Time Configuration"})})]}),Xt=()=>t.jsxs(i,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:3},children:[t.jsx(i,{sx:{flex:1},children:t.jsx(m,{elevation:0,sx:{height:"100%",background:"linear-gradient(135deg, #1a1a2e 0%, #2d2d2d 100%)",border:"1px solid #2d2d2d","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 40px rgba(108, 92, 231, 0.15)"},transition:"all 0.3s ease"},children:t.jsxs(x,{sx:{textAlign:"center",p:4},children:[t.jsx(i,{sx:{mb:2},children:t.jsx(f,{sx:{fontSize:48,color:"secondary.main"}})}),t.jsx(a,{variant:"h6",color:"secondary",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Manage"}),t.jsx(a,{variant:"body2",color:"text.secondary",children:"Daily use page for adding and removing stream links for movies and series."})]})})}),t.jsx(i,{sx:{flex:1},children:t.jsx(m,{elevation:0,sx:{height:"100%",background:"linear-gradient(135deg, #1a1a2e 0%, #2d2d2d 100%)",border:"1px solid #2d2d2d","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 40px rgba(108, 92, 231, 0.15)"},transition:"all 0.3s ease"},children:t.jsxs(x,{sx:{textAlign:"center",p:4},children:[t.jsx(i,{sx:{mb:2},children:t.jsx(g,{sx:{fontSize:48,color:"#00BFAE"}})}),t.jsx(a,{variant:"h6",color:"#00BFAE",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Configure"}),t.jsx(a,{variant:"body2",color:"text.secondary",children:"One-time setup for MongoDB connection. Required before adding content."})]})})})]}),Qt=()=>t.jsxs("div",{style:{padding:"20px"},children:[t.jsx(Kt,{}),t.jsx(qt,{}),t.jsx(Xt,{})]}),Zt=e=>`mongodb+srv://${e.user}:${e.pass}@${e.cluster}.mongodb.net`,er=(e,t,r)=>e&&t&&r&&"string"==typeof e&&"string"==typeof t&&"string"==typeof r&&""!==e.trim()&&""!==t.trim()&&""!==r.trim()?`mongodb+srv://${e.trim()}:${t.trim()}@${r.trim()}.mongodb.net`:"",tr=()=>t.jsxs(i,{textAlign:"center",mb:4,children:[t.jsx(a,{variant:"h3",component:"h1",gutterBottom:!0,sx:{fontWeight:"bold",color:"primary.main"},children:"Configure Stream Save"}),t.jsx(a,{variant:"h6",color:"text.secondary",children:"Configure your MongoDB connection for Stream Save"})]}),rr=({formData:e,showPassword:r,setShowPassword:n,onFieldChange:o})=>t.jsxs(i,{children:[t.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(b,{sx:{fontSize:32,color:"primary.main",mr:2}}),t.jsx(a,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Enter MongoDB Credentials"})]}),t.jsxs(i,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:3,mb:3},children:[t.jsxs(i,{sx:{flex:1,display:"flex",alignItems:"center",gap:1},children:[t.jsx(i,{sx:{width:16,height:16,backgroundColor:"#87CEEB",borderRadius:1}}),t.jsx(a,{variant:"body2",color:"text.secondary",children:"Username"})]}),t.jsxs(i,{sx:{flex:1,display:"flex",alignItems:"center",gap:1},children:[t.jsx(i,{sx:{width:16,height:16,backgroundColor:"#FFB6C1",borderRadius:1}}),t.jsx(a,{variant:"body2",color:"text.secondary",children:"Password"})]}),t.jsxs(i,{sx:{flex:1,display:"flex",alignItems:"center",gap:1},children:[t.jsx(i,{sx:{width:16,height:16,backgroundColor:"#FFD700",borderRadius:1}}),t.jsx(a,{variant:"body2",color:"text.secondary",children:"Cluster"})]})]}),t.jsxs(i,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:3,mb:4},children:[t.jsx(i,{sx:{flex:1},children:t.jsx(y,{fullWidth:!0,label:"Username",value:e.user,onChange:e=>o("user",e.target.value),placeholder:"Your MongoDB username",variant:"outlined",required:!0,sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#87CEEB"},"&:hover fieldset":{borderColor:"#5F9EA0"},"&.Mui-focused fieldset":{borderColor:"#87CEEB"}},"& .MuiInputLabel-root":{color:"#87CEEB"},"& .MuiInputLabel-root.Mui-focused":{color:"#87CEEB"}}})}),t.jsx(i,{sx:{flex:1},children:t.jsx(y,{fullWidth:!0,label:"Password",type:r?"text":"password",value:e.pass,onChange:e=>o("pass",e.target.value),placeholder:"Your MongoDB Password",variant:"outlined",required:!0,InputProps:{endAdornment:t.jsx(v,{position:"end",children:t.jsx(j,{onClick:()=>n(!r),edge:"end",sx:{color:"#FFB6C1","&:hover":{backgroundColor:"rgba(255, 182, 193, 0.1)"}},children:r?t.jsx(w,{}):t.jsx(C,{})})})},sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#FFB6C1"},"&:hover fieldset":{borderColor:"#FF69B4"},"&.Mui-focused fieldset":{borderColor:"#FFB6C1"}},"& .MuiInputLabel-root":{color:"#FFB6C1"},"& .MuiInputLabel-root.Mui-focused":{color:"#FFB6C1"}}})}),t.jsx(i,{sx:{flex:1},children:t.jsx(y,{fullWidth:!0,label:"Cluster Name",value:e.cluster,onChange:e=>o("cluster",e.target.value),placeholder:"Your cluster name",variant:"outlined",required:!0,sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#FFD700"},"&:hover fieldset":{borderColor:"#FFA500"},"&.Mui-focused fieldset":{borderColor:"#FFD700"}},"& .MuiInputLabel-root":{color:"#FFD700"},"& .MuiInputLabel-root.Mui-focused":{color:"#FFD700"}}})})]})]}),nr=({formData:e,showPassword:r,setShowPassword:n,onUrlChange:o})=>t.jsxs(i,{children:[t.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:3},children:[t.jsx(b,{sx:{fontSize:32,color:"primary.main",mr:2}}),t.jsx(a,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Enter MongoDB Connection URL"})]}),t.jsxs(i,{sx:{mb:4},children:[t.jsxs(i,{sx:{position:"relative",mb:2},children:[t.jsx(y,{fullWidth:!0,label:"MongoDB Connection URL",value:e.db_url,onChange:e=>o(e.target.value),placeholder:"mongodb+srv://<db_username>:<db_password>@<db_cluster>.mongodb.net",variant:"outlined",multiline:!0,rows:2,sx:{fontFamily:"monospace"},InputProps:{endAdornment:t.jsx(v,{position:"end",children:t.jsx(j,{onClick:()=>n(!r),sx:{color:"primary.main","&:hover":{backgroundColor:"rgba(108, 92, 231, 0.1)"}},children:r?t.jsx(w,{}):t.jsx(C,{})})})}}),!r&&e.db_url&&t.jsx(i,{sx:{position:"absolute",top:"8px",left:"8px",right:"68px",bottom:"8px",backgroundColor:"rgba(0, 0, 0, 0.15)",backdropFilter:"blur(12px)",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",zIndex:1},children:t.jsx(a,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)",fontStyle:"italic",textAlign:"center",px:2,fontWeight:400,textShadow:"0 1px 3px rgba(0, 0, 0, 0.8)"},children:"Password hidden - Click eye icon to reveal"})})]}),t.jsxs(a,{variant:"body2",color:"text.secondary",sx:{mt:1,fontStyle:"italic",fontSize:"0.9em"},children:[t.jsx("span",{style:{color:"#666666"},children:"Example: "}),"mongodb+srv://",t.jsx("span",{style:{color:"#87CEEB"},children:e.user||"<db_username>"}),":",t.jsx("span",{style:{color:"#FFB6C1"},children:e.pass&&r?e.pass:"<db_password>"}),"@",t.jsx("span",{style:{color:"#FFD700"},children:e.cluster||"<db_cluster>"}),".mongodb.net"]})]})]}),or=({installUrl:e,formData:r,showPassword:n,onOpenInStremio:o,onCopyUrl:s})=>e?t.jsxs(i,{sx:{mb:4},children:[t.jsx(d,{sx:{mb:2}}),t.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx("img",{src:"/assets/stremio_symbol-MtOkJskX.png",alt:"Stremio",style:{width:32,height:32,marginRight:16}}),t.jsx(a,{variant:"h6",sx:{fontWeight:"bold",whiteSpace:"nowrap"},children:"Install to Stremio"})]}),t.jsxs(i,{sx:{mb:2,display:"flex",alignItems:"stretch"},children:[t.jsx(c,{variant:"contained",onClick:o,disabled:!e,startIcon:t.jsx(S,{sx:{color:"white"}}),sx:{px:3,py:1,borderRadius:"8px 0 0 8px",fontSize:"1rem",background:"linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%)","&:hover":{background:"linear-gradient(135deg, #5f3dc4 0%, #8b7ae6 100%)",transform:"translateY(-1px)",boxShadow:"0 4px 16px rgba(108, 92, 231, 0.3)"},transition:"all 0.3s ease",border:"none",minWidth:"auto",height:"56px"},children:"Open in Stremio"}),t.jsx(y,{fullWidth:!0,label:"Addon URL (manifest.json)",value:n?e:e.replace(r.pass,"<db_password>"),variant:"outlined",InputProps:{readOnly:!0,endAdornment:t.jsx(v,{position:"end",children:t.jsx(k,{title:"Copy URL",children:t.jsx(j,{onClick:s,sx:{color:"#4caf50","&:hover":{backgroundColor:"rgba(76, 175, 80, 0.1)"}},children:t.jsx(E,{})})})})},sx:{flex:1,"& .MuiOutlinedInput-root":{borderRadius:"0 8px 8px 0","& fieldset":{borderColor:"#2d2d2d",borderLeft:"none"},"&:hover fieldset":{borderColor:"primary.main",borderLeft:"none"},"&.Mui-focused fieldset":{borderColor:"primary.main",borderLeft:"none"}}}})]}),t.jsxs(R,{severity:"info",icon:t.jsx(F,{}),sx:{mb:2,background:"rgba(33, 150, 243, 0.1)",border:"1px solid rgba(33, 150, 243, 0.3)","& .MuiAlert-icon":{color:"#2196f3"}},children:[t.jsxs(a,{variant:"body2",sx:{fontWeight:500,mb:1},children:["📱 ",t.jsx("strong",{children:"How to install in Stremio:"})]}),t.jsx(a,{variant:"body2",sx:{mb:1},children:"1. Copy the URL above (click the copy button)"}),t.jsxs(a,{variant:"body2",sx:{mb:1},children:["2. Go to ",t.jsx("a",{href:"https://web.stremio.com/#/addons",target:"_blank",rel:"noopener noreferrer",style:{color:"#2196f3",textDecoration:"underline"},children:"web.stremio.com/#/addons"})]}),t.jsxs(a,{variant:"body2",sx:{mb:1},children:["3. Click the ",t.jsx("strong",{children:'"+ Add addon"'})," button"]}),t.jsx(a,{variant:"body2",sx:{mb:1},children:"4. Paste the URL and click Install"}),t.jsx(a,{variant:"body2",children:"5. Your Stream Save addon is now active in Stremio!"})]})]}):null,ar=({onShowHelp:e,onUpdateCredentials:r,areCredentialsOriginal:n,isFormValid:o})=>t.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:4},children:[t.jsx(c,{variant:"outlined",startIcon:t.jsx($,{}),onClick:e,sx:{borderRadius:2,px:4,py:1.5,borderWidth:2,"&:hover":{borderWidth:2,transform:"translateY(-2px)",boxShadow:"0 8px 32px rgba(108, 92, 231, 0.2)"},transition:"all 0.3s ease"},children:"Need Help?"}),t.jsx(c,{variant:"contained",onClick:r,disabled:!o,sx:{px:3,py:1,borderRadius:2,fontSize:"0.875rem",background:"linear-gradient(135deg, #1976d2 0%, #42a5f5 100%)","&:hover":{background:"linear-gradient(135deg, #1565c0 0%, #1e88e5 100%)",transform:"translateY(-2px)",boxShadow:"0 8px 32px rgba(25, 118, 210, 0.3)"},"&:disabled":{background:"#2d2d2d",color:"#666"},transition:"all 0.3s ease"},children:n?"(Optional) Save Credentials":"(Optional) Update Credentials"})]}),sr=({open:e,onClose:r})=>t.jsxs(L,{open:e,onClose:r,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{background:"linear-gradient(135deg, #1a1a2e 0%, #2d2d2d 100%)",border:"1px solid #2d2d2d"}},children:[t.jsxs(D,{sx:{borderBottom:"1px solid #2d2d2d",pb:2,display:"flex",alignItems:"center",gap:1},children:[t.jsx($,{sx:{color:"primary.main"}}),"MongoDB Setup Help"]}),t.jsxs(T,{sx:{pt:3},children:[t.jsx(a,{variant:"h6",gutterBottom:!0,sx:{color:"primary.main",fontWeight:"bold"},children:"How to get your MongoDB credentials:"}),t.jsxs(B,{sx:{"& .MuiListItem-root":{py:.5}},children:[t.jsx(I,{sx:{px:0},children:t.jsx(M,{primary:"1. Go to MongoDB Atlas",secondary:t.jsx(W,{href:"https://cloud.mongodb.com",target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.light"},children:"https://cloud.mongodb.com"})})}),t.jsx(I,{sx:{px:0},children:t.jsx(M,{primary:"2. Create a new cluster or use an existing one"})}),t.jsx(I,{sx:{px:0},children:t.jsx(M,{primary:"3. Create a database user with read/write permissions"})}),t.jsx(I,{sx:{px:0},children:t.jsx(M,{primary:"4. Get your connection string from the cluster"})}),t.jsx(I,{sx:{px:0},children:t.jsx(M,{primary:"5. Use either the connection string or enter credentials separately"})})]}),t.jsxs(i,{sx:{mt:3,p:2,bgcolor:"rgba(25, 118, 210, 0.1)",borderRadius:2,border:"1px solid rgba(25, 118, 210, 0.2)"},children:[t.jsx(a,{variant:"body2",sx:{fontWeight:"bold",color:"primary.main",mb:1},children:"⚠️ Important Note:"}),t.jsxs(a,{variant:"body2",color:"text.secondary",children:["The installation link is needed to add this addon to Stremio. ",t.jsx("strong",{children:"Even if you update your credentials, you must re-copy the link and save that new one to Stremio."})]})]}),t.jsx(d,{sx:{my:2}}),t.jsx(a,{variant:"h6",gutterBottom:!0,sx:{color:"primary.main",fontWeight:"bold"},children:"Input Options:"}),t.jsxs(B,{children:[t.jsx(I,{sx:{px:0},children:t.jsx(M,{primary:"Individual Fields",secondary:"Enter username, password, and cluster name separately. The connection URL will be generated automatically. Each field is color-coded to match the URL parts."})}),t.jsx(I,{sx:{px:0},children:t.jsx(M,{primary:"Connection URL",secondary:"Paste your full MongoDB connection string. The individual fields will be parsed automatically. The URL is color-coded to show which parts correspond to each field."})})]})]}),t.jsx(P,{sx:{p:3,pt:1},children:t.jsx(c,{onClick:r,variant:"outlined",sx:{borderRadius:2},children:"Close"})})]}),ir=({open:e,message:r,onClose:n})=>t.jsx(A,{open:e,onClose:n,autoHideDuration:2e3,message:r}),lr=({mongoDBCred:r,setMongoDBCred:o})=>{const[a,s]=e.useState({user:r.user||"",pass:r.pass||"",cluster:r.cluster||"",db_url:Zt(r)}),[i,l]=e.useState(!1),[c,d]=e.useState(!1),[u,h]=e.useState(""),[p,f]=e.useState(!1),g=e.useMemo(()=>{if(a.user&&a.pass&&a.cluster){return`${window.location.origin}/${a.user}/${a.pass}/${a.cluster}/manifest.json`}return""},[a.user,a.pass,a.cluster]);e.useEffect(()=>{s({user:r.user||"",pass:r.pass||"",cluster:r.cluster||"",db_url:r.user&&r.pass&&r.cluster?Zt(r):""})},[r]),e.useEffect(()=>{const e=new URLSearchParams(window.location.search),t=e.get("user"),r=e.get("passw"),n=e.get("cluster");if(t||r||n){const e=t||"",a=r||"",i=n||"",l=er(e,a,i);s({user:e,pass:a,cluster:i,db_url:l}),o({user:e,pass:a,cluster:i})}},[]);const b=()=>!r.user&&!r.pass&&!r.cluster;return t.jsxs(n,{maxWidth:"lg",sx:{py:4},children:[t.jsx(tr,{}),t.jsx(m,{elevation:0,sx:{background:"linear-gradient(135deg, #1a1a2e 0%, #2d2d2d 100%)",border:"1px solid #2d2d2d",borderRadius:3},children:t.jsxs(x,{sx:{p:4},children:[t.jsx(rr,{formData:a,showPassword:c,setShowPassword:d,onFieldChange:(e,t)=>{const r={...a,[e]:t},n=er(r.user,r.pass,r.cluster);s({...r,db_url:n})}}),t.jsx(nr,{formData:a,showPassword:c,setShowPassword:d,onUrlChange:e=>{if(s(t=>({...t,db_url:e})),e&&e.includes("mongodb+srv://")){const t=(e=>{try{const t=e.match(/mongodb\+srv:\/\/([^:]+):([^@]+)@([^.]+)/);return t?{user:t[1],pass:t[2],cluster:t[3]}:{user:"",pass:"",cluster:""}}catch(t){return{user:"",pass:"",cluster:""}}})(e);s(r=>({...r,user:t.user,pass:t.pass,cluster:t.cluster,db_url:e})),o({user:t.user,pass:t.pass,cluster:t.cluster})}}}),t.jsx(or,{installUrl:g,formData:a,showPassword:c,onOpenInStremio:()=>{if(a.user&&a.pass&&a.cluster){const e=`stremio://${window.location.host}/${a.user}/${a.pass}/${a.cluster}/manifest.json`;h("Opening in Stremio..."),f(!0),setTimeout(()=>f(!1),2e3),window.location.href=e}},onCopyUrl:async()=>{if(g)try{await navigator.clipboard.writeText(g),h("Installation URL copied"),f(!0),setTimeout(()=>f(!1),2e3)}catch(e){console.error("Failed to copy:",e)}}}),t.jsx(ar,{onShowHelp:()=>l(!0),onUpdateCredentials:()=>{o({user:a.user,pass:a.pass,cluster:a.cluster});const e=b()?"Credentials have been saved":"Credentials have been updated";h(e),f(!0),setTimeout(()=>f(!1),2e3)},areCredentialsOriginal:b(),isFormValid:!!(a.user&&a.pass&&a.cluster)})]})}),t.jsx(sr,{open:i,onClose:()=>l(!1)}),t.jsx(ir,{open:p,message:u,onClose:()=>f(!1)})]})},cr=()=>t.jsxs(i,{mb:4,children:[t.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(C,{sx:{fontSize:48,color:"primary.main",mr:2}}),t.jsx(a,{variant:"h3",component:"h1",gutterBottom:!0,sx:{fontWeight:"bold",background:"linear-gradient(45deg, #6c5ce7 30%, #a29bfe 90%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Manage Content"})]}),t.jsx(a,{variant:"h6",color:"text.secondary",children:"Browse and manage your saved stream links"})]}),dr=l.memo(({stats:e})=>{const r=e.total>0?(e.movies/e.total*100).toFixed(1):0,n=e.total>0?(e.series/e.total*100).toFixed(1):0,o=[{title:"Total Content",value:e.total,icon:t.jsx(f,{sx:{fontSize:40,color:"primary.main"}}),color:"primary.main",subtitle:"All saved items"},{title:"Movies",value:e.movies,icon:t.jsx(U,{sx:{fontSize:40,color:"secondary.main"}}),color:"secondary.main",subtitle:`${r}% of total`},{title:"Series",value:e.series,icon:t.jsx(O,{sx:{fontSize:40,color:"success.main"}}),color:"success.main",subtitle:`${n}% of total`},{title:"Currently Showing",value:e.showing,icon:t.jsx(N,{sx:{fontSize:40,color:"warning.main"}}),color:"warning.main",subtitle:"Filtered results"}];return t.jsx(i,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)"},gap:3,mb:3},children:o.map((e,r)=>t.jsx(m,{elevation:2,sx:{height:"100%",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:4}},children:t.jsxs(x,{sx:{textAlign:"center",p:3},children:[t.jsx(i,{sx:{mb:2},children:e.icon}),t.jsx(a,{variant:"h4",component:"div",sx:{fontWeight:"bold",color:e.color,mb:1},children:e.value}),t.jsx(a,{variant:"h6",component:"div",sx:{fontWeight:500,mb:1},children:e.title}),t.jsx(a,{variant:"body2",color:"text.secondary",children:e.subtitle})]})},r))})});dr.displayName="StatsCards";const ur=l.memo(({searchTerm:r,filterType:n,onSearch:o,onFilter:a})=>{const l=e.useCallback(e=>{o(e.target.value)},[o]),c=e.useCallback(e=>{a(e.target.value)},[a]);return t.jsxs(i,{sx:{mb:3},children:[t.jsxs(i,{sx:{display:"flex",gap:2,mb:2,flexWrap:"wrap"},children:[t.jsx(y,{label:"Search content...",value:r,onChange:l,size:"small",sx:{minWidth:250,flexGrow:1},placeholder:"Search by title, description, or ID..."}),t.jsxs(z,{size:"small",sx:{minWidth:150},children:[t.jsx(_,{children:"Type"}),t.jsxs(H,{value:n,onChange:c,input:t.jsx(G,{label:"Type"}),children:[t.jsx(Y,{value:"all",children:"All Types"}),["movie","series"].map(e=>t.jsx(Y,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]})]}),t.jsxs(i,{sx:{display:"flex",gap:1,alignItems:"center",flexWrap:"wrap"},children:[r&&t.jsx(s,{label:`Search: "${r}"`,color:"secondary",variant:"outlined",size:"small",onDelete:()=>o("")}),n&&"all"!==n&&t.jsx(s,{label:`Type: ${n}`,color:"info",variant:"outlined",size:"small",onDelete:()=>a("all")})]})]})});ur.displayName="SearchAndFilter";const hr=({onClick:e})=>t.jsx(i,{sx:{display:"flex",justifyContent:"flex-end",mb:3},children:t.jsx(c,{variant:"contained",startIcon:t.jsx(J,{}),onClick:e,sx:{borderRadius:2,background:"linear-gradient(45deg, #2E7D32 30%, #388E3C 90%)","&:hover":{background:"linear-gradient(45deg, #1B5E20 30%, #2E7D32 90%)",transform:"translateY(-1px)",boxShadow:"0 4px 20px rgba(46, 125, 50, 0.3)"},transition:"all 0.3s ease"},children:"Add Saved Stream Link"})}),pr=l.memo(({filteredContent:r,onRemoveContent:n})=>{const o=e.useMemo(()=>[...r].sort((e,t)=>e.type!==t.type?e.type.localeCompare(t.type):(e.name||"").localeCompare(t.name||"")),[r]),a=e.useMemo(()=>({movies:r.filter(e=>"movie"===e.type).length,series:r.filter(e=>"series"===e.type).length,total:r.length}),[r]);return 0===r.length?t.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#666"},children:[t.jsx("p",{children:"No content found. Add some movies or series to get started!"}),t.jsx("p",{children:t.jsxs("small",{children:["Movies: ",a.movies," | Series: ",a.series]})})]}):t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:"1rem",display:"flex",gap:"1rem",alignItems:"center"},children:[t.jsx(s,{label:`Movies: ${a.movies}`,color:"primary",variant:"outlined"}),t.jsx(s,{label:`Series: ${a.series}`,color:"secondary",variant:"outlined"}),t.jsx(s,{label:`Total: ${a.total}`,color:"default",variant:"outlined"})]}),t.jsx(V,{component:K,elevation:2,children:t.jsxs(q,{children:[t.jsx(X,{children:t.jsxs(Q,{children:[t.jsx(Z,{children:"Type"}),t.jsx(Z,{children:"Title"}),t.jsx(Z,{children:"Year"}),t.jsx(Z,{children:"Rating"}),t.jsx(Z,{align:"center",children:"Actions"})]})}),t.jsx(ee,{children:o.map(e=>t.jsxs(Q,{hover:!0,children:[t.jsx(Z,{children:t.jsx(s,{label:e.type,color:"movie"===e.type?"primary":"secondary",size:"small"})}),t.jsx(Z,{children:t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:500},children:e.name}),e.description&&t.jsx("div",{style:{fontSize:"0.875rem",color:"#666",marginTop:"0.25rem"},children:e.description.length>100?`${e.description.substring(0,100)}...`:e.description})]})}),t.jsx(Z,{children:e.year||"N/A"}),t.jsx(Z,{children:e.rating||"N/A"}),t.jsx(Z,{align:"center",children:t.jsx(k,{title:"Remove",children:t.jsx(j,{onClick:()=>n(e.id,e.type),size:"small",color:"error",children:t.jsx(te,{})})})})]},`${e.type}-${e.id}`))})]})})]})});pr.displayName="ContentTable";const mr=()=>t.jsx(n,{maxWidth:"lg",sx:{mt:4,mb:4},children:t.jsxs(i,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"400px",children:[t.jsx(re,{size:60,sx:{color:"primary.main"}}),t.jsx(a,{variant:"h6",sx:{mt:2,color:"text.secondary"},children:"Loading your content..."})]})}),xr=({error:e})=>t.jsx(n,{maxWidth:"lg",sx:{mt:4,mb:4},children:t.jsxs(R,{severity:"warning",sx:{textAlign:"center",background:"linear-gradient(135deg, #1a1a2e 0%, #2d2d2d 100%)",border:"1px solid #2d2d2d"},children:[t.jsx(ne,{children:"Configuration Required"}),e,t.jsx(i,{sx:{mt:2},children:t.jsx(c,{variant:"contained",href:"/configure",sx:{borderRadius:2},children:"Go to Configuration"})})]})}),fr=({formData:e,addingContent:r,onFormChange:n,onSubmit:o,onCancel:s})=>{const l={"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#2d2d2d"},"&:hover fieldset":{borderColor:"primary.main"},"&.Mui-focused fieldset":{borderColor:"primary.main"}},"& .MuiFormHelperText-root":{color:"text.secondary",fontSize:"0.75rem"}};return t.jsxs(i,{component:"form",sx:{mt:2},children:[t.jsx(a,{variant:"h6",sx:{color:"primary.main",mb:2,fontWeight:"bold"},children:"Required Information"}),t.jsxs(i,{sx:{p:2,mb:3,bgcolor:"rgba(25, 118, 210, 0.1)",borderRadius:2,border:"1px solid rgba(25, 118, 210, 0.2)"},children:[t.jsxs(a,{variant:"subtitle2",sx:{color:"primary.main",fontWeight:"bold",mb:1,display:"flex",alignItems:"center",gap:1},children:[t.jsx(F,{sx:{fontSize:20}}),"Important Notes:"]}),t.jsxs(i,{component:"ul",sx:{m:0,pl:2},children:[t.jsx(a,{component:"li",variant:"body2",color:"text.secondary",sx:{mb:.5},children:"Stream links can be magnet links, direct URLs, or YouTube links"}),"movie"===e.type&&t.jsxs(a,{component:"li",variant:"body2",color:"text.secondary",sx:{mb:.5},children:["For movies, use the IMDB ID (e.g., ",t.jsx("code",{style:{color:"primary.light",fontFamily:"monospace"},children:"tt0468569"})," for The Dark Knight)"]}),"series"===e.type&&t.jsxs(t.Fragment,{children:[t.jsxs(a,{component:"li",variant:"body2",color:"text.secondary",sx:{mb:.5},children:["For entire series, use the IMDB ID (e.g., ",t.jsx("code",{style:{color:"primary.light",fontFamily:"monospace"},children:"tt0944947"})," for Game of Thrones)"]}),t.jsxs(a,{component:"li",variant:"body2",color:"text.secondary",sx:{mb:.5},children:["For single episodes, use format: ",t.jsx("code",{style:{color:"primary.light",fontFamily:"monospace"},children:"imdbid:season:episode"})," (e.g., ",t.jsx("code",{style:{color:"primary.light",fontFamily:"monospace"},children:"tt0944947:1:8"})," for GoT S1E8)"]})]})]})]}),t.jsxs(i,{sx:{display:"flex",gap:2,mb:3},children:[t.jsxs(y,{select:!0,fullWidth:!0,label:"Content Type",value:e.type,onChange:e=>n("type",e.target.value),sx:l,children:[t.jsx(Y,{value:"movie",children:"Movie"}),t.jsx(Y,{value:"series",children:"Series"})]}),t.jsx(y,{fullWidth:!0,label:"IMDB ID *",value:e.imdbId,onChange:e=>n("imdbId",e.target.value),placeholder:"tt1234567 or paste IMDb URL",helperText:"Enter the IMDB ID (e.g., tt1234567) or paste an IMDb URL to auto-extract the ID",sx:l})]}),t.jsx(y,{fullWidth:!0,label:"Stream Link *",value:e.streamLink,onChange:e=>n("streamLink",e.target.value),placeholder:"magnet:?xt=urn:btih:... or http://...",multiline:!0,rows:3,helperText:"Enter the magnet link, torrent file, or direct stream URL",sx:{mb:3,...l}}),t.jsxs(i,{sx:{p:2,mb:4,bgcolor:"rgba(0, 191, 174, 0.1)",borderRadius:2,border:"1px solid rgba(0, 191, 174, 0.2)"},children:[t.jsx(a,{variant:"subtitle2",sx:{color:"#00BFAE",fontWeight:"bold",mb:1},children:"Supported Stream Link Formats:"}),t.jsxs(i,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[t.jsxs(a,{variant:"body2",color:"text.secondary",children:["• ",t.jsx("strong",{children:"Magnet links:"})," ",t.jsx("code",{style:{color:"#00BFAE",fontFamily:"monospace"},children:"magnet:?xt=urn:btih:..."})]}),t.jsxs(a,{variant:"body2",color:"text.secondary",children:["• ",t.jsx("strong",{children:"Direct URLs:"})," ",t.jsx("code",{style:{color:"#00BFAE",fontFamily:"monospace"},children:"https://example.com/video.mp4"})]}),t.jsxs(a,{variant:"body2",color:"text.secondary",children:["• ",t.jsx("strong",{children:"YouTube:"})," ",t.jsx("code",{style:{color:"#00BFAE",fontFamily:"monospace"},children:"https://youtube.com/watch?v=..."})]})]})]}),t.jsxs(oe,{elevation:0,sx:{background:"transparent",border:"1px solid #2d2d2d",borderRadius:2,mb:4,"&:before":{display:"none"},"& .MuiAccordionSummary-root":{backgroundColor:"rgba(108, 92, 231, 0.05)",borderRadius:"8px 8px 0 0"},"& .MuiAccordionDetails-root":{backgroundColor:"rgba(0, 0, 0, 0.1)",borderRadius:"0 0 8px 8px",pt:3}},children:[t.jsxs(ae,{expandIcon:t.jsx(se,{sx:{color:"text.secondary"}}),sx:{"& .MuiAccordionSummary-content":{alignItems:"center",gap:1}},children:[t.jsx(a,{variant:"h6",sx:{color:"text.secondary",fontWeight:"bold"},children:"Optional Overrides"}),t.jsx(a,{variant:"body2",sx:{color:"text.secondary",fontSize:"0.875rem"},children:"(Advanced configuration)"})]}),t.jsxs(ie,{children:[t.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:3,fontStyle:"italic"},children:"These fields will override the data fetched from IMDB if provided"}),t.jsx(y,{fullWidth:!0,label:"Title",value:e.title,onChange:e=>n("title",e.target.value),placeholder:"Enter custom title (optional)",helperText:"Leave empty to use IMDB title",sx:{mb:3,...l}}),t.jsx(y,{fullWidth:!0,label:"Description",value:e.description,onChange:e=>n("description",e.target.value),placeholder:"Enter custom description (optional)",helperText:"Leave empty to use IMDB description",multiline:!0,rows:2,sx:{mb:3,...l}}),t.jsx(y,{fullWidth:!0,label:"Poster URL",value:e.poster,onChange:e=>n("poster",e.target.value),placeholder:"http://example.com/poster.jpg",helperText:"Enter custom poster image URL (optional)",sx:{mb:3,...l}})]})]}),t.jsxs(i,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[t.jsx(c,{variant:"outlined",onClick:s,disabled:r,sx:{borderRadius:2},children:"Cancel"}),t.jsx(c,{variant:"contained",onClick:o,disabled:!e.imdbId||!e.streamLink||r,startIcon:r?t.jsx(re,{size:16}):t.jsx(J,{}),sx:{borderRadius:2,background:"linear-gradient(45deg, #2E7D32 30%, #388E3C 90%)","&:hover":{background:"linear-gradient(45deg, #1B5E20 30%, #2E7D32 90%)",transform:"translateY(-1px)",boxShadow:"0 4px 20px rgba(46, 125, 50, 0.3)"},transition:"all 0.3s ease"},children:r?"Adding...":"Add Content"})]})]})},gr=({showAddForm:e,formData:r,addingContent:n,onFormChange:o,onSubmit:s,onCancel:l})=>e?t.jsx(i,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:1300,display:"flex",alignItems:"center",justifyContent:"center",p:2},onClick:l,children:t.jsx(m,{elevation:24,sx:{maxWidth:900,width:"100%",maxHeight:"90vh",overflow:"auto",background:"linear-gradient(135deg, #1a1a2e 0%, #2d2d2d 100%)",border:"1px solid #2d2d2d"},onClick:e=>e.stopPropagation(),children:t.jsxs(x,{sx:{p:3},children:[t.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[t.jsx(a,{variant:"h5",component:"h2",sx:{color:"primary.main",fontWeight:"bold"},children:"Add Saved Stream Link"}),t.jsx(j,{onClick:l,sx:{color:"text.secondary","&:hover":{color:"error.main"}},children:t.jsx(le,{})})]}),t.jsx(fr,{formData:r,addingContent:n,onFormChange:o,onSubmit:s,onCancel:l})]})})}):null,br=({mongoDBCred:r})=>{const[o,a]=e.useState([]),[s,i]=e.useState([]),[l,c]=e.useState(!0),[d,u]=e.useState(""),[h,p]=e.useState(""),[m,x]=e.useState("all"),[f,g]=e.useState({total:0,movies:0,series:0,showing:0}),[b,y]=e.useState(!1),{formData:v,handleFormChange:j,resetForm:w}=(()=>{const[t,r]=e.useState({type:"movie",imdbId:"",streamLink:"",title:"",description:"",poster:""});return{formData:t,setFormData:r,handleFormChange:(e,t)=>{if("imdbId"===e){const n=/https?:\/\/(?:www\.)?imdb\.com\/title\/(tt\d+)/i,o=t.match(n);if(o){const t=o[1];return void r(r=>({...r,[e]:t}))}}r(r=>({...r,[e]:t}))},resetForm:()=>{r({type:"movie",imdbId:"",streamLink:"",title:"",description:"",poster:""})}}})(),[C,S]=e.useState(!1),k=async()=>{try{if(!r.user||!r.pass||!r.cluster)return u("MongoDB credentials are not properly configured. Please check your configuration."),void c(!1);const t=window.location.origin;try{const e=await fetch(`${t}/manifest.json`);if(!e.ok)throw new Error(`Backend server not responding: ${e.status}`)}catch(e){return console.error("Health check failed:",e),u("Backend server is not accessible. Please ensure the server is running."),void c(!1)}const n=await fetch(`${t}/catalog`);if(n.ok){const e=await n.json();if(e.content&&Array.isArray(e.content)){const t=e.content;a(t),i(t),E(t),u("")}else a([]),i([]),g({total:0,movies:0,series:0,showing:0}),u("")}else{const e=await n.json().catch(()=>({}));console.error("Failed to fetch content:",n.status,e),u(`Failed to fetch content: ${n.status} ${n.statusText}`)}}catch(t){console.error("Fetch content error:",t),u(`Failed to load content: ${t instanceof Error?t.message:"Unknown error"}. Please check your connection and credentials.`),c(!1)}},E=e=>{const t=e.filter(e=>"movie"===e.type).length,r=e.filter(e=>"series"===e.type).length;g({total:e.length,movies:t,series:r,showing:s.length})},R=(e,t)=>{let r=o;"all"!==t&&(r=r.filter(e=>e.type===t)),e&&(r=r.filter(t=>t.name?.toLowerCase().includes(e.toLowerCase())||t.id?.toLowerCase().includes(e.toLowerCase()))),i(r),E(r)};return e.useEffect(()=>{k()},[]),l?t.jsx(mr,{}):d?t.jsx(xr,{error:d}):t.jsxs(n,{maxWidth:"lg",sx:{mt:4,mb:4},children:[t.jsx(cr,{}),t.jsx(dr,{stats:f}),t.jsx(ur,{searchTerm:h,filterType:m,onSearch:e=>{p(e),R(e,m)},onFilter:e=>{x(e),R(h,e)}}),t.jsx(hr,{onClick:()=>y(!0)}),t.jsx(pr,{content:o,filteredContent:s,onRemoveContent:async(e,t)=>{try{const n=window.location.origin,o=await fetch(`${n}/manage`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({remove_option:"remove",remove_type:t,remove_db_url:Zt(r),remove_imdbID:e})});if(o.ok)await k();else{const e=await o.text();console.error("Remove content error:",o.status,e),alert(`Failed to remove content: ${o.status} ${o.statusText}`)}}catch(n){console.error("Error removing content:",n),alert(`Error removing content: ${n instanceof Error?n.message:"Unknown error"}`)}}}),t.jsx(gr,{showAddForm:b,formData:v,addingContent:C,onFormChange:j,onSubmit:async()=>{try{S(!0);const t=window.location.origin,n={option:"add",type:v.type,imdbID:v.imdbId,stream:v.streamLink,db_url:Zt(r)};try{const e=await fetch(`${t}/manifest.json`);if(!e.ok)throw new Error(`Backend not accessible: ${e.status}`)}catch(e){throw console.error("Backend health check failed:",e),new Error("Backend server is not accessible. Please ensure the server is running.")}const o=await fetch(`${t}/manage`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(n)});if(o.ok)w(),y(!1),await k(),alert("Content added successfully!");else{const e=await o.text();console.error("Add content error:",o.status,e),alert(`Failed to add content: ${o.status} ${o.statusText}`)}}catch(t){console.error("Error adding content:",t),alert(`Error adding content: ${t instanceof Error?t.message:"Unknown error"}`)}finally{S(!1)}},onCancel:()=>{w(),y(!1)}})]})};function yr(){const[r,n]=e.useState({user:null,pass:null,cluster:null}),[o,a]=e.useState(!1);e.useEffect(()=>{const e="cf210db7-ebe2-4651-ae20-a5bf95840bd8",t="stremio-save-db1ed977-c.ms2wsj7";console.log("Environment variables loaded:",{envUser:"SET",envPass:"SET",envCluster:"SET",actualValues:{user:e,pass:"***",cluster:t}}),console.log("Setting credentials from environment variables"),n({user:e,pass:"a02752c7-f4f4-4905-af00-d7f6dd9f1054",cluster:t}),a(!0)},[]);const s=o&&r.user&&r.pass&&r.cluster;return t.jsx(zt,{children:t.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[t.jsx(Vt,{}),t.jsxs("div",{style:{flexGrow:1,padding:"20px"},children:[t.jsxs("div",{style:{background:"#f0f0f0",padding:"10px",margin:"10px 0",borderRadius:"4px",fontSize:"12px"},children:[t.jsx("strong",{children:"Debug Info:"}),t.jsx("br",{}),"envUser: ","SET",t.jsx("br",{}),"envPass: ","SET",t.jsx("br",{}),"envCluster: ","SET",t.jsx("br",{}),"hasCredentials: ",o.toString(),t.jsx("br",{}),"hasValidCredentials: ",s?"true":"false"]}),t.jsxs(vt,{children:[t.jsx(bt,{path:"/configure",element:t.jsx(lr,{mongoDBCred:r,setMongoDBCred:n})}),t.jsx(bt,{path:"/manage",element:s?t.jsx(br,{mongoDBCred:r,setMongoDBCred:n}):t.jsx(gt,{to:"/configure",replace:!0})}),t.jsx(bt,{path:"/",element:s?t.jsx(Qt,{}):t.jsx(gt,{to:"/configure",replace:!0})}),t.jsx(bt,{path:"*",element:s?t.jsx(Qt,{}):t.jsx(gt,{to:"/configure",replace:!0})})]})]})]})})}const vr=ce({palette:{mode:"dark",primary:{main:"#6c5ce7",light:"#a29bfe",dark:"#5f3dc4",contrastText:"#ffffff"},secondary:{main:"#fd79a8",light:"#fdcb6e",dark:"#e84393",contrastText:"#ffffff"},background:{default:"#0f0f23",paper:"#1a1a2e"},text:{primary:"#ffffff",secondary:"#b3b3b3"},divider:"#2d2d2d"},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h1:{fontWeight:600},h2:{fontWeight:600},h3:{fontWeight:600},h4:{fontWeight:600},h5:{fontWeight:600},h6:{fontWeight:600}},shape:{borderRadius:12},components:{MuiCard:{styleOverrides:{root:{backgroundImage:"none",backgroundColor:"#1a1a2e",border:"1px solid #2d2d2d"}}},MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:600}}},MuiAppBar:{styleOverrides:{root:{backgroundImage:"none",backgroundColor:"#1a1a2e",borderBottom:"1px solid #2d2d2d"}}}}});fe.createRoot(document.getElementById("root")).render(t.jsxs(de,{theme:vr,children:[t.jsx(ue,{}),t.jsx(yr,{})]}));
//# sourceMappingURL=index-G2mmwWle.js.map
